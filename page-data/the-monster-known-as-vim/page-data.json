{"componentChunkName":"component---src-templates-blog-post-js","path":"/the-monster-known-as-vim/","result":{"data":{"site":{"siteMetadata":{"title":"Shantanu's Weblog"}},"markdownRemark":{"id":"90accab9-af6c-5248-bb45-143770697206","excerpt":"In March 2017, Stack Overflow published an article that during weekdays, there are about 80 people per hour who struggle to exit out from the editor, and that’s…","html":"<p>In March 2017, <a href=\"https://stackoverflow.blog/2017/05/23/stack-overflow-helping-one-million-developers-exit-vim/\" target=\"_blank\" rel=\"noopener\">Stack Overflow published an article</a> that during weekdays, there are about 80 people per hour who struggle to exit out from the editor, and that’s just Stack Overflow’s traffic. VIM can be real daunting and unfriendly to the beginner. It mysteriously does things right when you start typing in it. Unless you press ‘i’ or some other special key, it just refuses to type in a new file. Some say its a good random string generator! It is this recondite nature of VIM scares tyro developers off the editor.  But once you get the hang of it, its like a jetpack right inside your keyboard.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c12d0ceaa276a42446ed2910bb2ae579/41099/troll.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIEA//EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAF8bEicuE//xAAaEAADAAMBAAAAAAAAAAAAAAAAARICERMU/9oACAEBAAEFAvQjpk332SiVUo//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8BjH//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAEAAwEAAAAAAAAAAAAAAAAAARIxMv/aAAgBAQAGPwJM2csYx//EABsQAAICAwEAAAAAAAAAAAAAAAERAFEQIUEx/9oACAEBAAE/IYkUGBXImxSAvPtQplWqwv/aAAwDAQACAAMAAAAQwy//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8Qhp//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPxBn/8QAGxABAAMAAwEAAAAAAAAAAAAAAQARITFBUbH/2gAIAQEAAT8QE7B8YReWldHn3YjAKqpBlcq65HkfxU0pFNR3xnc//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Rules of Towers of Hanoi\"\n        title=\"Rules of Towers of Hanoi\"\n        src=\"/static/c12d0ceaa276a42446ed2910bb2ae579/41099/troll.jpg\"\n        srcset=\"/static/c12d0ceaa276a42446ed2910bb2ae579/ff44c/troll.jpg 158w,\n/static/c12d0ceaa276a42446ed2910bb2ae579/a6688/troll.jpg 315w,\n/static/c12d0ceaa276a42446ed2910bb2ae579/41099/troll.jpg 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>I started using it 2 years ago, and have been addicted to it since. So much so, that even my Sublime text operates in VIM mode. To start loving VIM, you must first learn to speak its language.</p>\n<p>Wait! Why VIM? you might ask.</p>\n<p>Once you start programming, you will start noticing that the component that drastically slows down your programming speed is not your computer’s memory or your own. Its the mouse. With VIM, your fingers rarely will have to leave the home row, which means you’ll be able to edit text real quick. You might as well completely ditch that mouse. Moreover, VIM is ubiquitous. It is present on all *nix systems, and is lightweight and fast. It is powerful as it supports multiple registers, macros, plugins, themes, selections, and much more.</p>\n<p>My objective in this post is to get you familiar with the style in which VIM commands are constructed so that you make them on your own without having to mug up a list of useful commands. I would suggest you to open a sample document in VIM and start playing around as you read.</p>\n<p>Let’s dive right in.</p>\n<h2><strong>Modes</strong></h2>\n<p>First some theory. What makes VIM really powerful are it’s modes and registers. There are several modes in vim. Three of the most useful being -</p>\n<ol>\n<li>Normal Mode: This is vim’s default mode when you fire up the editor. There is a reason why it is called the ‘Normal’ mode. This is the one in which you speak with the Vim diction.</li>\n<li>Visual Mode and Block visual modes: Allows you to manipulate and speak to VIM on selections of texts.</li>\n<li>Command Mode: Allows you to issue editor commands to vim</li>\n</ol>\n<p>So how do you speak the vim lingo? Here are some things to get started -</p>\n<h2>The Alphabet</h2>\n<p>The table below shows the alphabet in normal mode.</p>\n<table style=\"border-collapse: collapse; width: 669px; height: 295px;\" border=\"0\" width=\"261\" cellspacing=\"0\" cellpadding=\"0\">\n  <colgroup> <col style=\"width: 65pt;\" span=\"3\" width=\"87\" /> </colgroup> \n  <tr style=\"height: 16pt;\">\n    <td style=\"height: 16pt; width: 65pt;\" width=\"87\" height=\"21\">\n      <span style=\"color: #0000ff;\">a: append</span>\n    </td>  \n    <td style=\"width: 65pt;\" width=\"87\">\n      <span style=\"color: #993300;\">j: down</span>\n    </td>\n    <td style=\"width: 65pt;\" width=\"87\">\n      <span style=\"color: #0000ff;\">s: substitute character</span>\n    </td>\n  </tr>\n  <tr style=\"height: 16pt;\">\n    <td style=\"height: 16pt;\" height=\"21\">\n      <span style=\"color: #993300;\">b: back</span>\n    </td>\n    <td>\n      <span style=\"color: #993300;\">k: up</span>\n    </td>\n    <td>\n      <span style=\"color: #008000;\">t: to / till</span>\n    </td>\n  </tr>\n  <tr style=\"height: 16pt;\">\n    <td style=\"height: 16pt;\" height=\"21\">\n      <span style=\"color: #0000ff;\">c: cut </span>\n    </td>\n    <td>\n      <span style=\"color: #993300;\">l: right</span>\n    </td>\n    <td>\n      <span style=\"color: #993300;\">u: undo</span>\n    </td>\n  </tr>\n  <tr style=\"height: 16pt;\">\n    <td style=\"height: 16pt;\" height=\"21\">\n      <span style=\"color: #008000;\">d: delete</span>\n    </td>\n    <td>\n      <span style=\"color: #008000;\">m: mark</span>\n    </td>\n    <td>\n      <span style=\"color: #008000;\">v: visual</span>\n    </td>\n  </tr>\n  <tr style=\"height: 16pt;\">\n    <td style=\"height: 16pt;\" height=\"21\">\n      <span style=\"color: #993300;\">e: end (of the word)</span>\n    </td>  \n    <td>\n      <span style=\"color: #993300;\">n: next (search)</span>\n    </td>\n    <td>\n      <span style=\"color: #993300;\">w: word</span>\n    </td>\n  </tr>\n  <tr style=\"height: 16pt;\">\n    <td style=\"height: 16pt;\" height=\"21\">\n      <span style=\"color: #008000;\">f: find</span>\n    </td>\n    <td>\n      <span style=\"color: #0000ff;\">o: open line</span>\n    </td>\n    <td>\n      <span style=\"color: #993300;\">x: cut (character)</span>\n    </td>\n  </tr>\n  <tr style=\"height: 16pt;\">\n    <td style=\"height: 16pt;\" height=\"21\">\n      <span style=\"color: #993300;\">h: left</span>\n    </td>\n    <td>\n      <span style=\"color: #993300;\">p: paste below</span>\n    </td>\n    <td>\n      <span style=\"color: #008000;\">y: yank</span>\n    </td>\n  </tr>\n  <tr style=\"height: 16pt;\">\n    <td style=\"height: 16pt;\" height=\"21\">\n      <span style=\"color: #0000ff;\">i: insert</span>\n    </td>\n    <td>\n      <span style=\"color: #008000;\">r: replace</span>\n    </td>\n    <td>\n      <span style=\"color: #008000;\">z: position line</span>\n    </td>\n  </tr>\n</table>\n<p>We will divide these into four categories -</p>\n<p><span style=\"text-decoration: underline;\">Category 1:</span> Verbs that are marked in red - *b (back), e (end), h(left) , j(down), k(up) ,l(right), n (next),  p(paste), u(undo), w(word), x(cut) * do not need any objects. They act immediately on the position below the cursor.</p>\n<p><span style=\"text-decoration: underline;\">Category 2</span>: Others marked in green - d(delete),  f(find),  m(mark), t(till), v(visual), z(position) first character issued in normal mode tells the verb (action) to be done. The next character tells vim the object for the verb to act upon.</p>\n<p><span style=\"text-decoration: underline;\">Category 3:</span> The remaining marked in blue a(append), c(cut), i(insert), o(open line), s(substitute character) act accordingly while simultaneously switch VIM to Insert Mode.</p>\n<p><span style=\"text-decoration: underline;\">Category 4:</span> Special characters -</p>\n<table style=\"height: 296px;\" width=\"765\">\n  <tr>\n    <td width=\"87\">\n      <span style=\"color: #0000ff;\"><strong>#</strong> </span>(Pound): Find previous occurence of word under cursor\n    </td>\n    <td width=\"87\">\n      <span style=\"color: #0000ff;\">*</span> (Astrix):  Find next occurence of word under cursor\n    </td>\n    <td width=\"87\">\n      <strong><span style=\"color: #0000ff;\">^</span></strong> (Caret): First Non-empty character in the current line\n    </td>\n  </tr>\n  <tr>\n    <td>\n      <span style=\"color: #0000ff;\"><strong>>></strong></span>: Indent to Right\n    </td>\n    <td>\n      <strong><span style=\"color: #0000ff;\"><<</span></strong>: Indent to left\n    </td>    \n    <td>\n      <strong><span style=\"color: #0000ff;\">/</span></strong>: Find in document\n    </td>\n  </tr>\n  <tr>\n    <td>\n      <span style=\"color: #0000ff;\"><strong>$</strong></span>: End of the line\n    </td> \n    <td>\n      <strong><span style=\"color: #0000ff;\">~</span></strong>(Tilde): Convert to uppercase\n    </td>\n    <td>\n      <strong><span style=\"color: #0000ff;\">`</span></strong>(Backtick): Convert to lowercase\n    </td>\n  </tr>\n  <tr>\n    <td>\n      <span style=\"color: #0000ff;\"><strong>[[</strong></span>: Start of the document\n    </td>\n    <td>\n      <strong><span style=\"color: #0000ff;\">]]</span></strong>: End of the document\n    </td>\n    <td>\n      <strong><span style=\"color: #0000ff;\">: </span></strong>(Colon): Accept a vim command\n    </td>\n  </tr>\n  <tr>\n    <td>\n      <span style=\"color: #0000ff;\"><strong>{</strong></span>: Previous blank line\n    </td>  \n    <td>\n      <strong><span style=\"color: #0000ff;\">}</span></strong>: Next blank line\n    </td>\n    <td>\n      <span style=\"color: #0000ff;\"><strong>.</strong></span>(Dot): Repeat last action\n    </td>\n  </tr>\n</table>\n<h2>Imperatives</h2>\n<p>Now that we know a bit of the alphabet, let’s start talking.  Have a look at some of the commands</p>\n<table width=\"648\">\n  <tr>\n    <td width=\"648\">\n      d$: <strong>Delete</strong> till <strong>end of the line</strong>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      d^: <strong>Delete</strong> till <strong>start of the line</strong>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      d}: <strong>Delete</strong> till the <strong>next blank line</strong>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      d]]: <strong>Delete</strong> till the <strong>end of the document</strong>\n    </td>\n  </tr>\n  <tr>\n    <td>\n      dw: <strong>Delete</strong> till <strong>start of next word</strong> (Excluding that char)\n    </td>\n  </tr>\n  <tr>\n    <td>\n      de: <strong>Delete</strong> till the <strong>end of current word</strong> (Including last char)\n    </td>\n  </tr>\n  <tr>\n    <td>\n      fd: <strong>Find</strong> character 'd' (in the current line)\n    </td>\n  </tr>\n  <tr>\n    <td>\n      v$: <strong>Visual</strong> till the<strong> end of the line</strong>\n    </td>\n  </tr>\n</table>\n<p>Do you see a pattern?</p>\n<p>Like the subject, verb and object make a sentence in English, an imperative in VIM consists of just a Verb or Verb + Object. The subject is always assumed to be the position under your cursor.</p>\n<p>Its usually Category 2 or 3 commands again followed by a category 2, 3 or 4 command or any character.</p>\n<p>Go on.. Try constructing some more commands like these and see if they work.</p>\n<h2><strong>Prepositions</strong></h2>\n<p>You might have noticed the ‘till’ word in the descriptions of the commands above. Sometimes it isn’t so obvious. For instance, to delete till next occurrence of the word ‘d’, You cannot use ‘dd’ as that will delete the complete line. Most of the times, in cases where the object is not a special character, we use ‘t’ to denote till.</p>\n<table width=\"648\">\n  <tr>\n    <td width=\"648\">\n      dtd: Delete till next 'd'\n    </td>\n  </tr>\n  <tr>\n    <td>\n      dt.: Delete till next full-stop\n    </td>\n  </tr>\n</table>\n<p>Another useful preposition is ‘in’. Apart from entering into insert mode, letter ‘i’ also denotes ‘in’. We use this especially with special characters that come in pairs - quotes, single quotes, braces, brackets etc. Look at these commands -</p>\n<table width=\"648\">\n  <tr>\n    <td width=\"648\">\n      ci{ : Cut (Delete and switch to insert mode) everything inside curly braces\n    </td>\n  </tr>\n  <tr>\n    <td>\n      di\": Delete everything inside quotes\n    </td>\n  </tr>\n</table>\n<p>This is extremely useful while editing code - deleting parameters or arguments inside parentheses, deleting function code blocks, replacing contents inside an array etc.</p>\n<p>I hope this post helped you get started with VIM and understand the logic behind its commands. You will be faster when you spend some more time using VIM and trying hard to not use it as a usual text editor.</p>\n<p>And yeah, before you go, here’s how you exit that shit -</p>\n<table width=\"388\">\n  <tr>\n    <td width=\"388\">\n      :w  Write (Save)\n    </td>\n  </tr>\n  <tr>\n    <td>\n      :wq Write and quit (Save and quit)\n    </td>\n  </tr>\n  <tr>\n    <td>\n      :q! Quit without saving\n    </td>\n  </tr>\n</table>\n<p>Cheers!</p>","frontmatter":{"title":"The Monster known as VIM","date":"July 03, 2016","description":null}},"previous":{"fields":{"slug":"/fault-tolerance-in-distributed-systems-3/"},"frontmatter":{"title":"Fault Tolerance in Distributed Systems: Distributed Consensus"}},"next":{"fields":{"slug":"/logging-in-pyspark/"},"frontmatter":{"title":"Logging in PySpark"}}},"pageContext":{"id":"90accab9-af6c-5248-bb45-143770697206","previousPostId":"38334fd8-dbd3-507c-9368-8814385c56ef","nextPostId":"136d676a-8f3f-560c-a5de-a30a1f712d01"}},"staticQueryHashes":["2841359383"]}